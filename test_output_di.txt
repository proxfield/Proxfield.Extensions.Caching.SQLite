  Determining projects to restore...
C:\Program Files\dotnet\sdk\10.0.100\Sdks\Microsoft.NET.Sdk\targets\Microsoft.NET.EolTargetFrameworks.targets(32,5): warning NETSDK1138: The target framework 'net5.0' is out of support and will not receive security updates in the future. Please refer to https://aka.ms/dotnet-core-support for more information about the support policy. [C:\Projects\Proxfield.Extensions.Caching.SQLite\samples\Proxfield.Extensions.Caching.SQLite.Sample\Proxfield.Extensions.Caching.SQLite.Sample.csproj]
  All projects are up-to-date for restore.
C:\Projects\Proxfield.Extensions.Caching.SQLite\src\Proxfield.Extensions.Caching.SQLite\SQLiteExtension.cs(75,32): warning CS8602: Dereference of a possibly null reference. [C:\Projects\Proxfield.Extensions.Caching.SQLite\src\Proxfield.Extensions.Caching.SQLite\Proxfield.Extensions.Caching.SQLite.csproj::TargetFramework=netcoreapp3.1]
C:\Projects\Proxfield.Extensions.Caching.SQLite\src\Proxfield.Extensions.Caching.SQLite\SQLiteExtension.cs(75,32): warning CS8602: Dereference of a possibly null reference. [C:\Projects\Proxfield.Extensions.Caching.SQLite\src\Proxfield.Extensions.Caching.SQLite\Proxfield.Extensions.Caching.SQLite.csproj::TargetFramework=net6.0]
C:\Projects\Proxfield.Extensions.Caching.SQLite\src\Proxfield.Extensions.Caching.SQLite\SQLiteExtension.cs(75,32): warning CS8602: Dereference of a possibly null reference. [C:\Projects\Proxfield.Extensions.Caching.SQLite\src\Proxfield.Extensions.Caching.SQLite\Proxfield.Extensions.Caching.SQLite.csproj::TargetFramework=net5.0]
  Proxfield.Extensions.Caching.SQLite -> C:\Projects\Proxfield.Extensions.Caching.SQLite\src\Proxfield.Extensions.Caching.SQLite\bin\Debug\netcoreapp3.1\Proxfield.Extensions.Caching.SQLite.dll
  Proxfield.Extensions.Caching.SQLite -> C:\Projects\Proxfield.Extensions.Caching.SQLite\src\Proxfield.Extensions.Caching.SQLite\bin\Debug\net6.0\Proxfield.Extensions.Caching.SQLite.dll
  Proxfield.Extensions.Caching.SQLite -> C:\Projects\Proxfield.Extensions.Caching.SQLite\src\Proxfield.Extensions.Caching.SQLite\bin\Debug\net5.0\Proxfield.Extensions.Caching.SQLite.dll
  Successfully created package 'C:\Projects\Proxfield.Extensions.Caching.SQLite\src\Proxfield.Extensions.Caching.SQLite\bin\Debug\Proxfield.Extensions.Caching.SQLite.2.0.0.nupkg'.
  Proxfield.Extensions.Caching.SQLite.Tests -> C:\Projects\Proxfield.Extensions.Caching.SQLite\tests\Proxfield.Extensions.Caching.SQLite.Tests\bin\Debug\net5.0\Proxfield.Extensions.Caching.SQLite.Tests.dll
  Proxfield.Extensions.Caching.SQLite.DependencyInjection -> C:\Projects\Proxfield.Extensions.Caching.SQLite\src\Proxfield.Extensions.Caching.SQLite.DependencyInjection\bin\Debug\netcoreapp3.1\Proxfield.Extensions.Caching.SQLite.DependencyInjection.dll
  Proxfield.Extensions.Caching.SQLite.DependencyInjection -> C:\Projects\Proxfield.Extensions.Caching.SQLite\src\Proxfield.Extensions.Caching.SQLite.DependencyInjection\bin\Debug\net5.0\Proxfield.Extensions.Caching.SQLite.DependencyInjection.dll
Test run for C:\Projects\Proxfield.Extensions.Caching.SQLite\tests\Proxfield.Extensions.Caching.SQLite.Tests\bin\Debug\net5.0\Proxfield.Extensions.Caching.SQLite.Tests.dll (.NETCoreApp,Version=v5.0)
  Proxfield.Extensions.Caching.SQLite.DependencyInjection -> C:\Projects\Proxfield.Extensions.Caching.SQLite\src\Proxfield.Extensions.Caching.SQLite.DependencyInjection\bin\Debug\net6.0\Proxfield.Extensions.Caching.SQLite.DependencyInjection.dll
VSTest version 18.0.1 (x64)

Starting test execution, please wait...
A total of 1 test files matched the specified pattern.
C:\Projects\Proxfield.Extensions.Caching.SQLite\tests\Proxfield.Extensions.Caching.SQLite.Tests\bin\Debug\net5.0\Proxfield.Extensions.Caching.SQLite.Tests.dll
  Successfully created package 'C:\Projects\Proxfield.Extensions.Caching.SQLite\src\Proxfield.Extensions.Caching.SQLite.DependencyInjection\bin\Debug\Proxfield.Extensions.Caching.SQLite.DependencyInjection.2.0.0.nupkg'.
  Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests -> C:\Projects\Proxfield.Extensions.Caching.SQLite\tests\Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests\bin\Debug\net5.0\Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests.dll
[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v2.4.3+1b45f5407b (64-bit .NET 5.0.17)
Test run for C:\Projects\Proxfield.Extensions.Caching.SQLite\tests\Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests\bin\Debug\net5.0\Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests.dll (.NETCoreApp,Version=v5.0)
VSTest version 18.0.1 (x64)

Starting test execution, please wait...
A total of 1 test files matched the specified pattern.
C:\Projects\Proxfield.Extensions.Caching.SQLite\tests\Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests\bin\Debug\net5.0\Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests.dll
[xUnit.net 00:00:00.31]   Discovering: Proxfield.Extensions.Caching.SQLite.Tests
[xUnit.net 00:00:00.34]   Discovered:  Proxfield.Extensions.Caching.SQLite.Tests
[xUnit.net 00:00:00.34]   Starting:    Proxfield.Extensions.Caching.SQLite.Tests
[xUnit.net 00:00:00.35]   Finished:    Proxfield.Extensions.Caching.SQLite.Tests
No test matches the given testcase filter `SQLiteCacheExtension_WhenAddSQLiteCache_ShouldReturnServices` in C:\Projects\Proxfield.Extensions.Caching.SQLite\tests\Proxfield.Extensions.Caching.SQLite.Tests\bin\Debug\net5.0\Proxfield.Extensions.Caching.SQLite.Tests.dll

[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v2.4.5+1caef2f33e (64-bit .NET 5.0.17)
[xUnit.net 00:00:00.32]   Discovering: Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests
[xUnit.net 00:00:00.34]   Discovered:  Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests
[xUnit.net 00:00:00.35]   Starting:    Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests
[xUnit.net 00:00:00.42]       System.NotSupportedException : Unsupported expression: x => x.AddSingleton<ISQLiteCache, SQLiteCache>(It.IsAny<Func<IServiceProvider, SQLiteCache>>())
Extension methods (here: ServiceCollectionServiceExtensions.AddSingleton) may not be used in setup / verification expressions.
[xUnit.net 00:00:00.42]       Stack Trace:
[xUnit.net 00:00:00.43]         C:\projects\moq4\src\Moq\Guard.cs(87,0): at Moq.Guard.IsOverridable(MethodInfo method, Expression expression)
[xUnit.net 00:00:00.43]         C:\projects\moq4\src\Moq\MethodExpectation.cs(86,0): at Moq.MethodExpectation..ctor(LambdaExpression expression, MethodInfo method, IReadOnlyList`1 arguments, Boolean exactGenericTypeArguments, Boolean skipMatcherInitialization, Boolean allowNonOverridable)
[xUnit.net 00:00:00.43]         C:\projects\moq4\src\Moq\ExpressionExtensions.cs(234,0): at Moq.ExpressionExtensions.<Split>g__Split|5_0(Expression e, Expression& r, MethodExpectation& p, Boolean assignment, Boolean allowNonOverridableLastProperty)
[xUnit.net 00:00:00.43]         C:\projects\moq4\src\Moq\ExpressionExtensions.cs(149,0): at Moq.ExpressionExtensions.Split(LambdaExpression expression, Boolean allowNonOverridableLastProperty)
[xUnit.net 00:00:00.43]         C:\projects\moq4\src\Moq\Mock.cs(643,0): at Moq.Mock.SetupRecursive[TSetup](Mock mock, LambdaExpression expression, Func`4 setupLast, Boolean allowNonOverridableLastProperty)
[xUnit.net 00:00:00.43]         C:\projects\moq4\src\Moq\Mock.cs(498,0): at Moq.Mock.Setup(Mock mock, LambdaExpression expression, Condition condition)
[xUnit.net 00:00:00.43]         C:\projects\moq4\src\Moq\Mock`1.cs(452,0): at Moq.Mock`1.Setup[TResult](Expression`1 expression)
[xUnit.net 00:00:00.43]         C:\Projects\Proxfield.Extensions.Caching.SQLite\tests\Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests\SQLiteCacheExtensionTests.cs(15,0): at Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests.SQLiteCacheExtensionTests.SQLiteCacheExtension_WhenAddSQLiteCache_ShouldReturnServices()
[xUnit.net 00:00:00.43]   Finished:    Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests
  Failed Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests.SQLiteCacheExtensionTests.SQLiteCacheExtension_WhenAddSQLiteCache_ShouldReturnServices [14 ms]
  Error Message:
   System.NotSupportedException : Unsupported expression: x => x.AddSingleton<ISQLiteCache, SQLiteCache>(It.IsAny<Func<IServiceProvider, SQLiteCache>>())
Extension methods (here: ServiceCollectionServiceExtensions.AddSingleton) may not be used in setup / verification expressions.
  Stack Trace:
     at Moq.Guard.IsOverridable(MethodInfo method, Expression expression) in C:\projects\moq4\src\Moq\Guard.cs:line 87
   at Moq.MethodExpectation..ctor(LambdaExpression expression, MethodInfo method, IReadOnlyList`1 arguments, Boolean exactGenericTypeArguments, Boolean skipMatcherInitialization, Boolean allowNonOverridable) in C:\projects\moq4\src\Moq\MethodExpectation.cs:line 86
   at Moq.ExpressionExtensions.<Split>g__Split|5_0(Expression e, Expression& r, MethodExpectation& p, Boolean assignment, Boolean allowNonOverridableLastProperty) in C:\projects\moq4\src\Moq\ExpressionExtensions.cs:line 234
   at Moq.ExpressionExtensions.Split(LambdaExpression expression, Boolean allowNonOverridableLastProperty) in C:\projects\moq4\src\Moq\ExpressionExtensions.cs:line 149
   at Moq.Mock.SetupRecursive[TSetup](Mock mock, LambdaExpression expression, Func`4 setupLast, Boolean allowNonOverridableLastProperty) in C:\projects\moq4\src\Moq\Mock.cs:line 643
   at Moq.Mock.Setup(Mock mock, LambdaExpression expression, Condition condition) in C:\projects\moq4\src\Moq\Mock.cs:line 498
   at Moq.Mock`1.Setup[TResult](Expression`1 expression) in C:\projects\moq4\src\Moq\Mock`1.cs:line 452
   at Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests.SQLiteCacheExtensionTests.SQLiteCacheExtension_WhenAddSQLiteCache_ShouldReturnServices() in C:\Projects\Proxfield.Extensions.Caching.SQLite\tests\Proxfield.Extensions.Caching.SQLite.DependencyInjection.Tests\SQLiteCacheExtensionTests.cs:line 15

Total tests: 1
     Failed: 1
 Total time: 0.9127 Seconds
